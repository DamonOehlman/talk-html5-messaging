<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>HTML5 Messaging</title>
	<meta name="viewport" content="width=1024, user-scalable=no">
	<link rel="stylesheet" type="text/css" href="css/pres.style.css" /><script src="js/modernizr.custom.js"></script><link rel="stylesheet" type="text/css" href="css/deck.core.css" /><link rel="stylesheet" type="text/css" href="css/deck.hash.css" /><link rel="stylesheet" type="text/css" href="css/swiss.css" />
</head>
<body class="deck-container">
<!-- use the handlebars each statement to create multiple content sections for the included files -->

<section class="slide" >
	<h1>Websockets</h1>



</section>

<section class="slide" >
	<h2>General Info</h2>
<ul>
<li><a href="http://en.wikipedia.org/wiki/Comparison_of_WebSocket_implementations">http://en.wikipedia.org/wiki/Comparison_of_WebSocket_implementations</a></li>
<li><a href="http://en.wikipedia.org/wiki/WebSockets">http://en.wikipedia.org/wiki/WebSockets</a></li>
</ul>



</section>

<section class="slide" >
	<h2>Compatibility</h2>
<ul>
<li><a href="http://autobahn.ws/testsuite/reports/clients/index.html">Browser Client Compatibility</a></li>
</ul>



</section>

<section class="slide" >
	<h2>Sample Handshake</h2>
<p>The client initiates a websocket connection using a HTTP <code>upgrade</code> request:

</p>
<pre><code>GET /chat HTTP/1.1
Host: server.example.com
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==
Origin: http://example.com
Sec-WebSocket-Protocol: chat, superchat
Sec-WebSocket-Version: 13</code></pre>



</section>

<section class="slide" >
	<h3>Framing</h3>
<pre><code> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-------+-+-------------+-------------------------------+
|F|R|R|R| opcode|M| Payload len |    Extended payload length    |
|I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |
|N|V|V|V|       |S|             |   (if payload len==126/127)   |
| |1|2|3|       |K|             |                               |
+-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +
|     Extended payload length continued, if payload len == 127  |
+ - - - - - - - - - - - - - - - +-------------------------------+
|                               |Masking-key, if MASK set to 1  |
+-------------------------------+-------------------------------+
| Masking-key (continued)       |          Payload Data         |
+-------------------------------- - - - - - - - - - - - - - - - +
:                     Payload Data continued ...                :
+ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +
|                     Payload Data continued ...                |
+---------------------------------------------------------------+</code></pre>



</section>

<section class="slide" >
	<h2>Connect</h2>
<pre><code>var socket = new WebSocket(&#39;ws://game.example.com:12010/updates&#39;);
socket.onopen = function () {
  setInterval(function() {
    if (socket.bufferedAmount == 0)
      socket.send(getUpdateData());
  }, 50);
};</code></pre>



</section>

<section class="slide" >
	<h1>Web Intents</h1>



</section>

<section class="slide" >
	<h2>In Progress Spec</h2>
<p><a href="http://dvcs.w3.org/hg/web-intents/raw-file/tip/spec/Overview.html">http://dvcs.w3.org/hg/web-intents/raw-file/tip/spec/Overview.html</a>

</p>



</section>

<section class="slide" >
	<h2>Registration</h2>
<pre><code>&lt;intent
  action=&quot;http://webintents.org/share&quot; 
  type=&quot;image/*&quot; 
  href=&quot;share.html&quot;
  disposition=&quot;window|inline&quot;
 /&gt;</code></pre>



</section>

<section class="slide" >
	<h2>Web Intents in Chrome Extensions</h2>
<ul>
<li><a href="http://code.google.com/chrome/extensions/dev/manifest.html#intents">http://code.google.com/chrome/extensions/dev/manifest.html#intents</a></li>
<li><a href="http://paul.kinlan.me/getting-your-app-to-support-web-intents-on-ch/">http://paul.kinlan.me/getting-your-app-to-support-web-intents-on-ch/</a></li>
<li><a href="https://docs.google.com/document/d/13qLWZxuiAxdaXPk2X85XEmlhjCtMT_oKVsY39-pkhhU/edit?pli=1">https://docs.google.com/document/d/13qLWZxuiAxdaXPk2X85XEmlhjCtMT_oKVsY39-pkhhU/edit?pli=1</a></li>
</ul>



</section>

<section class="slide" >
	<h2>Web Intents Compatibility</h2>
<ul>
<li>Chrome (dev, beta)</li>
<li></li>
</ul>



</section>

<section class="slide" >
	<h2>A Simpler Approach?</h2>
<p><a href="http://benlog.com/articles/2012/02/09/a-simpler-webbier-approach-to-web-intents-or-activities/">http://benlog.com/articles/2012/02/09/a-simpler-webbier-approach-to-web-intents-or-activities/</a>


</p>



</section>

<section class="slide" >
	<h2>Cross Document Messaging</h2>
<p><a href="http://www.w3.org/TR/html5/comms.html#crossDocumentMessages">http://www.w3.org/TR/html5/comms.html#crossDocumentMessages</a>

</p>



</section>

<section class="slide" >
	<h3>Cross Document Messaging Security</h3>
<p><strong>From the spec:</strong>

</p>
<p>Authors should check the origin attribute to ensure that messages are only accepted from domains that they expect to receive messages from. Otherwise, bugs in the author&#39;s message handling code could be exploited by hostile sites.

</p>
<p>Furthermore, even after checking the origin attribute, authors should also check that the data in question is of the expected format. Otherwise, if the source of the event has been attacked using a cross-site scripting flaw, further unchecked processing of information sent using the postMessage() method could result in the attack being propagated into the receiver.

</p>
<p>Authors should not use the wildcard keyword (*) in the targetOrigin argument in messages that contain any confidential information, as otherwise there is no way to guarantee that the message is only delivered to the recipient to which it was intended.

</p>



</section>

<section class="slide" >
	<h2>Sending Data</h2>
<p>The message parameter is not limited to strings. Structured objects, data objects (such as File and ArrayBuffer), or arrays can also be sent as messages. Be aware, however, that Internet Explorer 8 and 9, and Firefox versions 3.6 and below only support strings.

</p>



</section>

<section class="slide" >
	<h2>Web Messaging is Broken?</h2>
<p><a href="http://paul.kinlan.me/webmessaging-is-broken/">http://paul.kinlan.me/webmessaging-is-broken/</a>

</p>



</section>

<section class="slide" >
	<h2>Channel Messaging</h2>
<p><a href="http://www.w3.org/TR/html5/comms.html#channel-messaging">http://www.w3.org/TR/html5/comms.html#channel-messaging</a>

</p>



</section>

<section class="slide" >
	<h2>Additional Resources</h2>
<ul>
<li><a href="http://dev.opera.com/articles/view/window-postmessage-messagechannel/">http://dev.opera.com/articles/view/window-postmessage-messagechannel/</a></li>
</ul>



</section>

<section class="slide" >
	<h2>Server Sent Events</h2>
<p><a href="http://dev.w3.org/html5/eventsource/">http://dev.w3.org/html5/eventsource/</a>

</p>



</section>

<section class="slide" >
	


</section>

<script src="js/pres.js"></script><script src="js/jquery.min.js"></script><script src="js/deck.core.js"></script><script src="js/deck.hash.js"></script>
<script>
	$(function() {
		$.deck('.slide');
	});
</script>
</body>
</html>